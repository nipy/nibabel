<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Neuroimaging in Python &#8212; NiBabel 5.4.0.dev1+g3b1c7b37 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/nibabel.css?v=f6107aeb" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=8f87c9ba"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="environment" href="nibabel.environment.html" />
    <link rel="prev" title="casting" href="nibabel.casting.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience">

  </head><body>
<div class="row" style="display: flex; flex-direction: row; flex-wrap: wrap; width: 100%;">
  <div class="column" style="background-color: white; display: flex; flex-direction: column; flex: 0 0 140px; padding-left: 2px; padding-bottom:2px; padding-top:2px;">
    <img src="../_static/nibabel-logo.svg" class="logo" alt="Logo" width="130px"/>
  </div>
  <div class="column" style="background-color: white; text-align: left; padding-left: 10px; padding-bottom:50px; padding-top:20px; background-repeat: no-repeat; display: flex; flex-direction: column; flex-basis: 100%; flex: 1;">
    <h1>NiBabel</h1>
    <h3 style="margin-top:-5px;color:#2f83c8">Access a cacophony of neuro-imaging file formats</h3>
  </div>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nibabel.environment.html" title="environment"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nibabel.casting.html" title="casting"
             accesskey="P">previous</a> |</li>
  <li><a href="http://nipy.org/">Community</a> |&nbsp;</li>
  <li><a href="../index.html">NiBabel Home</a> |&nbsp;</li>
  <li><a href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing list</a> |&nbsp;</li>
  <li><a href="legal.html">License</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Neuroimaging in Python</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code></a><ul>
<li><a class="reference internal" href="#bomber"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bomber</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.Bomber"><code class="docutils literal notranslate"><span class="pre">Bomber</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.Bomber.__init__"><code class="docutils literal notranslate"><span class="pre">Bomber.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#bombererror"><code class="xref py py-class docutils literal notranslate"><span class="pre">BomberError</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.BomberError"><code class="docutils literal notranslate"><span class="pre">BomberError</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.BomberError.__init__"><code class="docutils literal notranslate"><span class="pre">BomberError.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#dataerror"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataError</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.DataError"><code class="docutils literal notranslate"><span class="pre">DataError</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.DataError.__init__"><code class="docutils literal notranslate"><span class="pre">DataError.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#datasource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Datasource</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.Datasource"><code class="docutils literal notranslate"><span class="pre">Datasource</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.Datasource.__init__"><code class="docutils literal notranslate"><span class="pre">Datasource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#nibabel.data.Datasource.get_filename"><code class="docutils literal notranslate"><span class="pre">Datasource.get_filename()</span></code></a></li>
<li><a class="reference internal" href="#nibabel.data.Datasource.list_files"><code class="docutils literal notranslate"><span class="pre">Datasource.list_files()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#versioneddatasource"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionedDatasource</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.VersionedDatasource"><code class="docutils literal notranslate"><span class="pre">VersionedDatasource</span></code></a><ul>
<li><a class="reference internal" href="#nibabel.data.VersionedDatasource.__init__"><code class="docutils literal notranslate"><span class="pre">VersionedDatasource.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#datasource-or-bomber">datasource_or_bomber</a><ul>
<li><a class="reference internal" href="#nibabel.data.datasource_or_bomber"><code class="docutils literal notranslate"><span class="pre">datasource_or_bomber()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#find-data-dir">find_data_dir</a><ul>
<li><a class="reference internal" href="#nibabel.data.find_data_dir"><code class="docutils literal notranslate"><span class="pre">find_data_dir()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#get-data-path">get_data_path</a><ul>
<li><a class="reference internal" href="#nibabel.data.get_data_path"><code class="docutils literal notranslate"><span class="pre">get_data_path()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#make-datasource">make_datasource</a><ul>
<li><a class="reference internal" href="#nibabel.data.make_datasource"><code class="docutils literal notranslate"><span class="pre">make_datasource()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="nibabel.casting.html"
                          title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">casting</span></code></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="nibabel.environment.html"
                          title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">environment</span></code></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/nibabel.data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-nibabel.data">
<span id="data"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code><a class="headerlink" href="#module-nibabel.data" title="Link to this heading">¶</a></h1>
<p>Utilities to find files from NIPY data packages</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.data.Bomber" title="nibabel.data.Bomber"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Bomber</span></code></a>(name, msg)</p></td>
<td><p>Class to raise an informative error when used</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.data.BomberError" title="nibabel.data.BomberError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BomberError</span></code></a></p></td>
<td><p>Error when trying to access Bomber instance</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.data.DataError" title="nibabel.data.DataError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataError</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.data.Datasource" title="nibabel.data.Datasource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Datasource</span></code></a>(base_path)</p></td>
<td><p>Simple class to add base path to relative path</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.data.VersionedDatasource" title="nibabel.data.VersionedDatasource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VersionedDatasource</span></code></a>(base_path[, config_filename])</p></td>
<td><p>Datasource with version information in config file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.data.datasource_or_bomber" title="nibabel.data.datasource_or_bomber"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datasource_or_bomber</span></code></a>(pkg_def, **options)</p></td>
<td><p>Return a viable datasource or a Bomber</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.data.find_data_dir" title="nibabel.data.find_data_dir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_data_dir</span></code></a>(root_dirs, *names)</p></td>
<td><p>Find relative path given path prefixes to search</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.data.get_data_path" title="nibabel.data.get_data_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data_path</span></code></a>()</p></td>
<td><p>Return specified or guessed locations of NIPY data files</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.data.make_datasource" title="nibabel.data.make_datasource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_datasource</span></code></a>(pkg_def, **kwargs)</p></td>
<td><p>Return datasource defined by <cite>pkg_def</cite> as found in <cite>data_path</cite></p></td>
</tr>
</tbody>
</table>
<section id="bomber">
<h2><a class="reference internal" href="#nibabel.data.Bomber" title="nibabel.data.Bomber"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bomber</span></code></a><a class="headerlink" href="#bomber" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nibabel.data.Bomber">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">Bomber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Bomber" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to raise an informative error when used</p>
<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.Bomber.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Bomber.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="bombererror">
<h2><a class="reference internal" href="#nibabel.data.BomberError" title="nibabel.data.BomberError"><code class="xref py py-class docutils literal notranslate"><span class="pre">BomberError</span></code></a><a class="headerlink" href="#bombererror" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nibabel.data.BomberError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">BomberError</span></span><a class="headerlink" href="#nibabel.data.BomberError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nibabel.data.DataError" title="nibabel.data.DataError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeError</span></code></a></p>
<p>Error when trying to access Bomber instance</p>
<p>Should be instance of AttributeError to allow Python 3 inspect to do
various <code class="docutils literal notranslate"><span class="pre">hasattr</span></code> checks without raising an error</p>
<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.BomberError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.BomberError.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="dataerror">
<h2><a class="reference internal" href="#nibabel.data.DataError" title="nibabel.data.DataError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataError</span></code></a><a class="headerlink" href="#dataerror" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nibabel.data.DataError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">DataError</span></span><a class="headerlink" href="#nibabel.data.DataError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.DataError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.DataError.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="datasource">
<h2><a class="reference internal" href="#nibabel.data.Datasource" title="nibabel.data.Datasource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Datasource</span></code></a><a class="headerlink" href="#datasource" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nibabel.data.Datasource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">Datasource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Datasource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Simple class to add base path to relative path</p>
<p>Initialize datasource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>base_path</strong><span class="classifier">str</span></dt><dd><p>path to prepend to all relative paths</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span> <span class="k">as</span> <span class="n">pjoin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">Datasource</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="s1">&#39;somedir&#39;</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">==</span> <span class="n">pjoin</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;somedir&#39;</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.Datasource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Datasource.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize datasource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>base_path</strong><span class="classifier">str</span></dt><dd><p>path to prepend to all relative paths</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span> <span class="k">as</span> <span class="n">pjoin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">Datasource</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="s1">&#39;somedir&#39;</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">==</span> <span class="n">pjoin</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;somedir&#39;</span><span class="p">,</span> <span class="s1">&#39;afile.txt&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.Datasource.get_filename">
<span class="sig-name descname"><span class="pre">get_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path_parts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Datasource.get_filename" title="Link to this definition">¶</a></dt>
<dd><p>Prepend base path to <cite>*path_parts</cite></p>
<p>We make no check whether the returned path exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*path_parts</strong><span class="classifier">sequence of strings</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str</span></dt><dd><p>result of <code class="docutils literal notranslate"><span class="pre">os.path.join(*path_parts),</span> <span class="pre">with</span>
<span class="pre">``self.base_path</span></code> prepended</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.Datasource.list_files">
<span class="sig-name descname"><span class="pre">list_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.Datasource.list_files" title="Link to this definition">¶</a></dt>
<dd><p>Recursively list the files in the data source directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>relative: bool, optional</strong></dt><dd><p>If True, path returned are relative to the base path of
the data source.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>file_list: list of strings</dt><dd><p>List of the paths of all the files in the data source.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="versioneddatasource">
<h2><a class="reference internal" href="#nibabel.data.VersionedDatasource" title="nibabel.data.VersionedDatasource"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionedDatasource</span></code></a><a class="headerlink" href="#versioneddatasource" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="nibabel.data.VersionedDatasource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">VersionedDatasource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.VersionedDatasource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nibabel.data.Datasource" title="nibabel.data.Datasource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Datasource</span></code></a></p>
<p>Datasource with version information in config file</p>
<p>Initialize versioned datasource</p>
<p>We assume that there is a configuration file with version
information in datasource directory tree.</p>
<p>The configuration file contains an entry like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">version</span> <span class="o">=</span> <span class="mf">0.3</span>
</pre></div>
</div>
<p>The version should have at least a major and a minor version
number in the form above.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>base_path</strong><span class="classifier">str</span></dt><dd><p>path to prepend to all relative paths</p>
</dd>
<dt><strong>config_filaname</strong><span class="classifier">None or str</span></dt><dd><p>relative path to configuration file containing version</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="nibabel.data.VersionedDatasource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.VersionedDatasource.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize versioned datasource</p>
<p>We assume that there is a configuration file with version
information in datasource directory tree.</p>
<p>The configuration file contains an entry like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">version</span> <span class="o">=</span> <span class="mf">0.3</span>
</pre></div>
</div>
<p>The version should have at least a major and a minor version
number in the form above.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>base_path</strong><span class="classifier">str</span></dt><dd><p>path to prepend to all relative paths</p>
</dd>
<dt><strong>config_filaname</strong><span class="classifier">None or str</span></dt><dd><p>relative path to configuration file containing version</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="datasource-or-bomber">
<h2>datasource_or_bomber<a class="headerlink" href="#datasource-or-bomber" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nibabel.data.datasource_or_bomber">
<span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">datasource_or_bomber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg_def</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.datasource_or_bomber" title="Link to this definition">¶</a></dt>
<dd><p>Return a viable datasource or a Bomber</p>
<p>This is to allow module level creation of datasource objects.  We
create the objects, so that, if the data exist, and are the correct
version, the objects are valid datasources, otherwise, they
raise an error on access, warning about the lack of data or the
version numbers.</p>
<p>The parameters are as for <code class="docutils literal notranslate"><span class="pre">make_datasource</span></code> in this module.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg_def</strong><span class="classifier">dict</span></dt><dd><p>dict containing at least key ‘relpath’. Can optionally have keys ‘name’
(package name),  ‘install hint’ (for helpful error messages) and ‘min
version’ giving the minimum necessary version string for the package.</p>
</dd>
<dt><strong>data_path</strong><span class="classifier">sequence of strings or None, optional</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>ds</strong><span class="classifier">datasource or <code class="docutils literal notranslate"><span class="pre">Bomber</span></code> instance</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="find-data-dir">
<h2>find_data_dir<a class="headerlink" href="#find-data-dir" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nibabel.data.find_data_dir">
<span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">find_data_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_dirs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.find_data_dir" title="Link to this definition">¶</a></dt>
<dd><p>Find relative path given path prefixes to search</p>
<p>We raise a DataError if we can’t find the relative path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>root_dirs</strong><span class="classifier">sequence of strings</span></dt><dd><p>sequence of paths in which to search for data directory</p>
</dd>
<dt><strong>*names</strong><span class="classifier">sequence of strings</span></dt><dd><p>sequence of strings naming directory to find. The name to search
for is given by <code class="docutils literal notranslate"><span class="pre">os.path.join(*names)</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>data_dir</strong><span class="classifier">str</span></dt><dd><p>full path (root path added to <cite>*names</cite> above)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="get-data-path">
<h2>get_data_path<a class="headerlink" href="#get-data-path" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nibabel.data.get_data_path">
<span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">get_data_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.get_data_path" title="Link to this definition">¶</a></dt>
<dd><p>Return specified or guessed locations of NIPY data files</p>
<p>The algorithm is to return paths, extracted from strings, where
strings are found in the following order:</p>
<ol class="arabic simple">
<li><p>The contents of environment variable <code class="docutils literal notranslate"><span class="pre">NIPY_DATA_PATH</span></code></p></li>
<li><p>Any section = <code class="docutils literal notranslate"><span class="pre">DATA</span></code>, key = <code class="docutils literal notranslate"><span class="pre">path</span></code> value in a <code class="docutils literal notranslate"><span class="pre">config.ini</span></code>
file in your nipy user directory (found with
<code class="docutils literal notranslate"><span class="pre">get_nipy_user_dir()</span></code>)</p></li>
<li><p>Any section = <code class="docutils literal notranslate"><span class="pre">DATA</span></code>, key = <code class="docutils literal notranslate"><span class="pre">path</span></code> value in any files found
with a <code class="docutils literal notranslate"><span class="pre">sorted(glob.glob(os.path.join(sys_dir,</span> <span class="pre">'*.ini')))</span></code>
search, where <code class="docutils literal notranslate"><span class="pre">sys_dir</span></code> is found with <code class="docutils literal notranslate"><span class="pre">get_nipy_system_dir()</span></code></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">sys.prefix</span></code> is <code class="docutils literal notranslate"><span class="pre">/usr</span></code>, we add
<code class="docutils literal notranslate"><span class="pre">/usr/local/share/nipy</span></code>. We need this because Python 2.6 in
Debian / Ubuntu does default installs to <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>.</p></li>
<li><p>The result of <code class="docutils literal notranslate"><span class="pre">get_nipy_user_dir()</span></code></p></li>
</ol>
<p>Therefore, any paths found in <code class="docutils literal notranslate"><span class="pre">NIPY_DATA_PATH</span></code> will be searched
before paths found in the user directory <code class="docutils literal notranslate"><span class="pre">config.ini</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>paths</strong><span class="classifier">sequence of paths</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>We have to add <code class="docutils literal notranslate"><span class="pre">/usr/local/share/nipy</span></code> if sys.prefix is <code class="docutils literal notranslate"><span class="pre">/usr</span></code>,
because Debian has patched distutils in Python 2.6 to do default
distutils installs there:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.debian.org/doc/packaging-manuals/python-policy/ap-packaging_tools.html#s-distutils">https://www.debian.org/doc/packaging-manuals/python-policy/ap-packaging_tools.html#s-distutils</a></p></li>
<li><p><a class="reference external" href="https://www.mail-archive.com/debian-python&#64;lists.debian.org/msg05084.html">https://www.mail-archive.com/debian-python&#64;lists.debian.org/msg05084.html</a></p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pth</span> <span class="o">=</span> <span class="n">get_data_path</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="make-datasource">
<h2>make_datasource<a class="headerlink" href="#make-datasource" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="nibabel.data.make_datasource">
<span class="sig-prename descclassname"><span class="pre">nibabel.data.</span></span><span class="sig-name descname"><span class="pre">make_datasource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg_def</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.data.make_datasource" title="Link to this definition">¶</a></dt>
<dd><p>Return datasource defined by <cite>pkg_def</cite> as found in <cite>data_path</cite></p>
<p><cite>data_path</cite> is the only allowed keyword argument.</p>
<p><cite>pkg_def</cite> is a dictionary with at least one key - ‘relpath’.  ‘relpath’ is
a relative path with unix forward slash separators.</p>
<p>The relative path to the data is found with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="n">pkg_def</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
<p>We search for this relative path in the list of paths given by <cite>data_path</cite>.
By default <cite>data_path</cite> is given by <code class="docutils literal notranslate"><span class="pre">get_data_path()</span></code> in this module.</p>
<p>If we can’t find the relative path, raise a DataError</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg_def</strong><span class="classifier">dict</span></dt><dd><p>dict containing at least the key ‘relpath’. ‘relpath’ is the data path
of the package relative to <cite>data_path</cite>.  It is in unix path format
(using forward slashes as directory separators).  <cite>pkg_def</cite> can also
contain optional keys ‘name’ (the name of the package), and / or a key
‘install hint’ that we use in the returned error message from trying to
use the resulting datasource</p>
</dd>
<dt><strong>data_path</strong><span class="classifier">sequence of strings or None, optional</span></dt><dd><p>sequence of paths in which to search for data.  If None (the
default), then use <code class="docutils literal notranslate"><span class="pre">get_data_path()</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>datasource</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">VersionedDatasource</span></code></span></dt><dd><p>An initialized <code class="docutils literal notranslate"><span class="pre">VersionedDatasource</span></code> instance</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2006, NiBabel developers &lt;neuroimaging@python.org&gt;.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    </div>
  </body>
</html>